Turbo Assembler	 Version 4.1	    03/29/24 12:35:00	    Page 1
lab_1.asm



      1					 ; Резервирoвание места под стек
      2	    0000			 sseg segment stack 'stack'
      3	    0000  0100*(????)		  dw 256 dup(?)
      4	    0200			 sseg ends
      5					 ; Определение данных
      6	    0000			 data segment
      7	    0000  0078			 x dw 120
      8	    0002  ??			 zerx db ?
      9	    0003  ??			 neg_x db ?
     10	    0004  ??			 posx db ?
     11	    0005			 data ends
     12
     13					 ; Макроопределения
     14					 check_num macro num
     15					 local _neg, _pos, _zer, myend
     16					     cmp  num, 0
     17					     je	_zer
     18					     jg	_pos
     19					     jl	_neg
     20
     21					     _neg:
     22						 mov bx, num
     23						 jmp myend
     24					     _pos:
     25						 mov cx, num
     26						 jmp myend
     27					     _zer:
     28						 mov dx, 1
     29						 jmp myend
     30					     myend:
     31
     32					 endm
     33
     34	    0000			 code segment
     35					 assume	cs:code,ds:data,ss:sseg
     36	    0000  B8 0000s		 start:	mov ax,data ; настроить сегментный
     37	    0003  8E D8			  mov ds,ax ; регистр DS	на данные
     38					  .386
     39					  check_num x
1    40	    0005  83 3E	0000r 00	     cmp  x, 0
1    41	    000A  74 18	90 90		     je	??0002
1    42	    000E  7F 0D	90 90		     jg	??0001
1    43	    0012  7C 02	90 90		     jl	??0000
1    44	    0016			     ??0000:
1    45	    0016  8B 1E	0000r			 mov bx, x
1    46	    001A  EB 0E	90			 jmp ??0003
1    47	    001D			     ??0001:
1    48	    001D  8B 0E	0000r			 mov cx, x
1    49	    0021  EB 07	90			 jmp ??0003
1    50	    0024			     ??0002:
1    51	    0024  BA 0001			 mov dx, 1
1    52	    0027  EB 01	90			 jmp ??0003
1    53	    002A			     ??0003:
     54	    002A  B4 4C			  mov ah,4ch ; завершить программу
     55	    002C  CD 21			  int 21h ; и выйти в DOS
     56	    002E			 code ends
     57
Turbo Assembler	 Version 4.1	    03/29/24 12:35:00	    Page 2
lab_1.asm



     58					 end start
Turbo Assembler	 Version 4.1	    03/29/24 12:35:00	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??0000				  Near	 CODE:0016
??0001				  Near	 CODE:001D
??0002				  Near	 CODE:0024
??0003				  Near	 CODE:002A
??DATE				  Text	 "03/29/24"
??FILENAME			  Text	 "lab_1	  "
??TIME				  Text	 "12:35:00"
??VERSION			  Number 040A
@CPU				  Text	 0F0FH
@CURSEG				  Text	 CODE
@FILENAME			  Text	 LAB_1
@WORDSIZE			  Text	 4
NEG_X				  Byte	 DATA:0003
POSX				  Byte	 DATA:0004
START				  Near	 CODE:0000
X				  Word	 DATA:0000
ZERX				  Byte	 DATA:0002

Macro Name

CHECK_NUM

Groups & Segments		  Bit Size Align  Combine Class

CODE				  16  002E Para	  none
DATA				  16  0005 Para	  none
SSEG				  16  0200 Para	  Stack	  STACK
